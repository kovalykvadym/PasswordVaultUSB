<Window
    x:Class="PasswordVaultUSB.Views.ChangeMasterPasswordView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Change Master Password"
    Width="500"
    Height="360"
    MinWidth="420"
    MinHeight="320"
    Background="{StaticResource BackgroundColor}"
    FontFamily="Segoe UI"
    WindowStartupLocation="CenterOwner"
    Style="{StaticResource WindowStyle}">
    <Grid>
        <Border
            Padding="30"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Background="White"
            CornerRadius="10">
            <Border.Effect>
                <DropShadowEffect
                    BlurRadius="18"
                    Opacity="0.35"
                    ShadowDepth="5"
                    Color="#CCCCCC" />
            </Border.Effect>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="20" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="25" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <TextBlock
                    Grid.Row="0"
                    HorizontalAlignment="Center"
                    FontSize="22"
                    FontWeight="Bold"
                    Foreground="#333"
                    Text="Update master password" />

                <StackPanel Grid.Row="2" Margin="0,0,0,12">
                    <TextBlock
                        Margin="0,0,0,5"
                        FontWeight="SemiBold"
                        Foreground="#666"
                        Text="Current master password" />
                    <Border
                        Height="40"
                        BorderBrush="#DDDDDD"
                        BorderThickness="1"
                        CornerRadius="5">
                        <PasswordBox
                            x:Name="CurrentPasswordInput"
                            Padding="10,0"
                            VerticalContentAlignment="Center"
                            Background="Transparent"
                            BorderThickness="0"
                            FontFamily="Consolas"
                            FontSize="16" />
                    </Border>
                    <TextBlock
                        x:Name="CurrentPasswordError"
                        Margin="2,5,0,0"
                        FontSize="12"
                        Foreground="#D8000C"
                        Visibility="Collapsed" />
                </StackPanel>

                <StackPanel Grid.Row="3" Margin="0,0,0,12">
                    <TextBlock
                        Margin="0,0,0,5"
                        FontWeight="SemiBold"
                        Foreground="#666"
                        Text="New master password" />
                    <Border
                        Height="40"
                        BorderBrush="#DDDDDD"
                        BorderThickness="1"
                        CornerRadius="5">
                        <PasswordBox
                            x:Name="NewPasswordInput"
                            Padding="10,0"
                            VerticalContentAlignment="Center"
                            Background="Transparent"
                            BorderThickness="0"
                            FontFamily="Consolas"
                            FontSize="16" />
                    </Border>
                    <TextBlock
                        x:Name="NewPasswordError"
                        Margin="2,5,0,0"
                        FontSize="12"
                        Foreground="#D8000C"
                        Visibility="Collapsed" />
                </StackPanel>

                <StackPanel Grid.Row="4" Margin="0,0,0,12">
                    <TextBlock
                        Margin="0,0,0,5"
                        FontWeight="SemiBold"
                        Foreground="#666"
                        Text="Confirm new password" />
                    <Border
                        Height="40"
                        BorderBrush="#DDDDDD"
                        BorderThickness="1"
                        CornerRadius="5">
                        <PasswordBox
                            x:Name="ConfirmPasswordInput"
                            Padding="10,0"
                            VerticalContentAlignment="Center"
                            Background="Transparent"
                            BorderThickness="0"
                            FontFamily="Consolas"
                            FontSize="16" />
                    </Border>
                    <TextBlock
                        x:Name="ConfirmPasswordError"
                        Margin="2,5,0,0"
                        FontSize="12"
                        Foreground="#D8000C"
                        Visibility="Collapsed" />
                </StackPanel>

                <StackPanel
                    Grid.Row="6"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0,10,0,0">
                    <Button
                        Margin="0,0,12,0"
                        Padding="14,8"
                        Background="Transparent"
                        BorderThickness="0"
                        Click="Cancel_Click"
                        Foreground="#777"
                        Content="Cancel" />
                    <Button
                        Width="140"
                        Height="38"
                        Click="Save_Click"
                        Content="Update"
                        Style="{StaticResource ModernButtonStyle}" />
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>

