<Window
    x:Class="PasswordVaultUSB.Views.LoginView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:PasswordVaultUSB.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Autorization"
    Width="800"
    Height="600"
    MinWidth="450"
    MinHeight="350"
    Background="{StaticResource BackgroundColor}"
    FontFamily="Segoe UI"
    KeyDown="Window_KeyDown"
    Style="{StaticResource WindowStyle}"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">
    <Grid>
        <Border
            Width="400"
            Height="Auto"
            Padding="30"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Background="White">
            <Border.Effect>
                <DropShadowEffect
                    BlurRadius="10"
                    Opacity="0.4"
                    ShadowDepth="5"
                    Color="#CCCCCC" />
            </Border.Effect>
            <Grid>

                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="20" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="30" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0" HorizontalAlignment="Center">
                    <TextBlock
                        HorizontalAlignment="Center"
                        FontSize="28"
                        FontWeight="Bold"
                        Foreground="#333333"
                        Text="Password Vault" />

                    <TextBlock
                        Margin="0,5,0,0"
                        HorizontalAlignment="Center"
                        FontSize="14"
                        Foreground="#777777"
                        Text="Enter master password" />
                </StackPanel>

                <Border
                    Grid.Row="2"
                    Height="45"
                    BorderBrush="#DDDDDD"
                    BorderThickness="1"
                    CornerRadius="5">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="40" />
                        </Grid.ColumnDefinitions>

                        <PasswordBox
                            x:Name="PasswordInput"
                            Grid.Column="0"
                            Padding="10,0"
                            VerticalContentAlignment="Center"
                            Background="Transparent"
                            BorderThickness="0"
                            FontFamily="Consolas"
                            FontSize="18"
                            PasswordChanged="PasswordInput_PasswordChanged" />

                        <TextBox
                            x:Name="PasswordVisible"
                            Grid.Column="0"
                            Padding="10,0"
                            VerticalContentAlignment="Center"
                            Background="Transparent"
                            BorderThickness="0"
                            FontFamily="Consolas"
                            FontSize="18"
                            TextChanged="PasswordVisible_TextChanged"
                            Visibility="Collapsed" />

                        <Button
                            x:Name="TogglePasswordButton"
                            Grid.Column="1"
                            Background="Transparent"
                            BorderThickness="0"
                            Click="TogglePasswordButton_Click"
                            Cursor="Hand">
                            <Viewbox Width="20" Height="20">
                                <Image
                                    x:Name="EyeIcon"
                                    Opacity="0.6"
                                    Source="/Resources/visibility.png" />
                            </Viewbox>
                        </Button>
                    </Grid>
                </Border>
                <TextBlock
                    x:Name="StatusText"
                    Grid.Row="3"
                    Margin="2,5,0,10"
                    HorizontalAlignment="Left"
                    FontSize="13"
                    Foreground="#D8000C"
                    TextWrapping="Wrap" />

                <Button
                    Grid.Row="5"
                    Width="200"
                    Height="45"
                    Margin="0,10,0,0"
                    Click="LoginButton_Click"
                    Content="Log in"
                    Style="{StaticResource ModernButtonStyle}" />
            </Grid>
        </Border>
    </Grid>
</Window>
