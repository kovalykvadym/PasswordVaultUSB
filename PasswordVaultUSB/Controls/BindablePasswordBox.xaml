<UserControl
    x:Class="PasswordVaultUSB.Controls.BindablePasswordBox"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="40"
    d:DesignWidth="300"
    mc:Ignorable="d">

    <Border
        Padding="5"
        Background="White"
        BorderBrush="#DDDDDD"
        BorderThickness="1"
        CornerRadius="5">

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <PasswordBox
                x:Name="PasswordBoxInput"
                Grid.Column="0"
                VerticalContentAlignment="Center"
                Background="Transparent"
                BorderThickness="0"
                FontFamily="Consolas"
                FontSize="14"
                PasswordChanged="PasswordBox_PasswordChanged" />

            <TextBox
                x:Name="TextBoxInput"
                Grid.Column="0"
                VerticalContentAlignment="Center"
                Background="Transparent"
                BorderThickness="0"
                FontFamily="Consolas"
                FontSize="14"
                TextChanged="TextBox_TextChanged"
                Visibility="Collapsed" />

            <Button
                Grid.Column="1"
                Margin="5,0,0,0"
                Background="Transparent"
                BorderThickness="0"
                Click="ToggleVisibility_Click"
                Cursor="Hand">
                <Image
                    x:Name="EyeIcon"
                    Width="20"
                    Height="20"
                    Opacity="0.6"
                    Source="/Resources/visibility.png" />
            </Button>
        </Grid>
    </Border>
</UserControl>